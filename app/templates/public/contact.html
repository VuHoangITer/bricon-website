{% extends 'layouts/base.html' %}
{% block title %}{{ get_setting('meta_title', 'Liên hệ - Hoangvn') }}{% endblock %}
{% block meta_description %}{{ get_setting('contact_meta_description', 'Liên hệ Hoangvn') }}{% endblock %}

{% block content %}
<div class="trang-lien-he-vn">
    <!-- ==================== BREADCRUMB ==================== -->
    <div class="page-header bg-light py-4">
        <div class="container">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="{{ url_for('main.index') }}">Trang chủ</a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">Liên hệ</li>
                </ol>
            </nav>
        </div>
    </div>

    <!-- ==================== CONTACT SECTION ==================== -->
    <section class="py-5" itemscope itemtype="https://schema.org/ContactPage">
        <div class="container">
            <div class="row g-4">
                <!-- Contact Form -->
                <div class="col-lg-8">
                    <div class="card shadow-sm border-0">
                        <div class="card-body p-4">
                            <h3 class="fw-bold mb-4">
                                <i class="bi bi-envelope text-warning me-2"></i>
                                Liên Hệ Với Chúng Tôi
                            </h3>
                            <form method="POST" action="{{ url_for('main.contact') }}" class="contact-form">
                                {{ form.hidden_tag() }}

                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label class="form-label fw-semibold">Họ và tên *</label>
                                        {{ form.name(class="form-control", placeholder="Nhập họ tên", required=True) }}
                                        {% if form.name.errors %}
                                        <div class="text-danger small mt-1">
                                            {{ form.name.errors[0] }}
                                        </div>
                                        {% endif %}
                                    </div>

                                    <div class="col-md-6">
                                        <label class="form-label fw-semibold">Email</label>
                                        {{ form.email(class="form-control", placeholder="email@gmail.com",
                                        required=False) }}
                                        {% if form.email.errors %}
                                        <div class="text-danger small mt-1">
                                            {{ form.email.errors[0] }}
                                        </div>
                                        {% endif %}
                                    </div>

                                    <div class="col-md-6">
                                        <label class="form-label fw-semibold">Số điện thoại *</label>
                                        {{ form.phone(class="form-control", placeholder="Vui lòng nhập sdt",
                                        required=True) }}
                                    </div>

                                    <div class="col-md-6">
                                        <label class="form-label fw-semibold">Tiêu đề</label>
                                        {{ form.subject(class="form-control", placeholder="Tiêu đề tin nhắn") }}
                                    </div>

                                    <div class="col-12">
                                        <label class="form-label fw-semibold">Nội dung *</label>
                                        {{ form.message(class="form-control", rows="5", placeholder="Nhập nội dung cần tư vấn...", required=True) }}
                                        {% if form.message.errors %}
                                        <div class="text-danger small mt-1">
                                            {{ form.message.errors[0] }}
                                        </div>
                                        {% endif %}
                                    </div>

                                    <div class="col-12 d-flex justify-content-md-end">
                                        {{ form.submit(class="btn btn-warning btn-lg px-5") }}
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Contact Info -->
                <div class="col-lg-4">
                    <div class="card shadow-sm border-0 mb-4 contact-info-card" itemscope
                         itemtype="https://schema.org/LocalBusiness">
                        <div class="card-body p-4">
                            <h5 class="fw-bold mb-4">
                                <i class="bi bi-info-circle text-warning me-2"></i>
                                Thông tin liên hệ
                            </h5>

                            <div class="mb-3">
                                <div class="d-flex align-items-start">
                                    <i class="bi bi-geo-alt-fill text-warning fs-4 me-3"></i>
                                    <div itemprop="address" itemscope itemtype="https://schema.org/PostalAddress">
                                        <h6 class="fw-bold mb-1">Địa chỉ</h6>
                                        <p class="text-muted mb-0" itemprop="streetAddress">
                                            {{ get_setting('address', '') }}
                                        </p>
                                        <meta itemprop="addressLocality" content="Hồ Chí Minh"/>
                                        <meta itemprop="addressCountry" content="VN"/>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3">
                                <div class="d-flex align-items-start">
                                    <i class="bi bi-telephone-fill text-warning fs-4 me-3"></i>
                                    <div>
                                        <h6 class="fw-bold mb-1">Điện thoại</h6>
                                        <p class="text-muted mb-0">
                                            <a href="tel:{{ get_setting('hotline', '0901.180.094')|replace('.', '')|replace(' ', '') }}"
                                               class="text-decoration-none text-muted" itemprop="telephone">
                                                {{ get_setting('hotline', '0901.180.094') }}
                                            </a>
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-3">
                                <div class="d-flex align-items-start">
                                    <i class="bi bi-envelope-fill text-warning fs-4 me-3"></i>
                                    <div>
                                        <h6 class="fw-bold mb-1">Email</h6>
                                        <p class="text-muted mb-0">
                                            <a href="mailto:{{ get_setting('contact_email', 'info@bricon.vn') }}"
                                               class="text-decoration-none text-muted" itemprop="email">
                                                {{ get_setting('contact_email', 'info@bricon.vn') }}
                                            </a>
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <div class="d-flex align-items-start">
                                    <i class="bi bi-clock-fill text-warning fs-4 me-3"></i>
                                    <div itemprop="openingHours">
                                        <h6 class="fw-bold mb-1">Giờ làm việc</h6>
                                        <p class="text-muted mb-0">
                                            Thứ 2 - Thứ 7: 8:00 - 20:00<br/>
                                            Chủ nhật: 9:00 - 18:00
                                        </p>
                                        <meta itemprop="openingHours" content="Mo-Sa 08:00-20:00"/>
                                        <meta itemprop="openingHours" content="Su 09:00-18:00"/>
                                    </div>
                                </div>
                            </div>

                            <meta itemprop="name" content="{{ get_setting('website_name', 'BRICON VIỆT NAM') }}"/>
                            <meta itemprop="url" content="{{ get_setting('main_url', request.url_root) }}"/>
                            <meta itemprop="image"
                                  content="{{ get_setting('logo_url', url_for('static', filename='img/logo.png', _external=True)) }}"/>
                        </div>
                    </div>

                    <!-- Social Links Card -->
                    <div class="card shadow-sm border-0 contact-info-card">
                        <div class="card-body p-4">
                            <h5 class="fw-bold mb-3">
                                <i class="bi bi-share text-warning me-2"></i>
                                Kết nối với chúng tôi
                            </h5>
                            <!-- social-links -->
                            <div class="d-flex gap-3 social-links">
                                {% if get_setting('facebook_url') %}
                                <a href="{{ get_setting('facebook_url') }}" target="_blank"
                                   class="btn btn-outline-primary rounded-circle" style="width: 45px; height: 45px"
                                   title="Facebook" aria-label="Facebook">
                                    <i class="bi bi-facebook"></i>
                                </a>
                                {% endif %}
                                {% if get_setting('zalo_url') %}
                                <a href="{{ get_setting('zalo_url') }}" target="_blank"
                                   class="btn btn-outline-info rounded-circle" style="width: 45px; height: 45px"
                                   title="Zalo" aria-label="Zalo">
                                    <i class="bi bi-telephone"></i>
                                </a>
                                {% endif %}
                                {% if get_setting('youtube_url') %}
                                <a href="{{ get_setting('youtube_url') }}" target="_blank"
                                   class="btn btn-outline-danger rounded-circle" style="width: 45px; height: 45px"
                                   title="YouTube" aria-label="YouTube">
                                    <i class="bi bi-youtube"></i>
                                </a>
                                {% endif %}
                                {% if get_setting('tiktok_url') %}
                                <a href="{{ get_setting('tiktok_url') }}" target="_blank"
                                   class="btn btn-outline-dark rounded-circle" style="width: 45px; height: 45px"
                                   title="TikTok" aria-label="TikTok">
                                    <i class="bi bi-tiktok"></i>
                                </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Google Map -->
            {% if get_setting('google_maps') %}
            <div class="mt-5">
                <h3 class="fw-bold mb-4">
                    <i class="bi bi-map text-warning me-2"></i>
                    Bản đồ chỉ đường
                </h3>
                <div class="ratio ratio-21x9 rounded overflow-hidden shadow map-container">
                    {{ get_setting('google_maps') | safe }}
                </div>
            </div>
            {% endif %}
        </div>
    </section>
</div>


<!-- ==================== SCHEMA.ORG - CONTACT PAGE ==================== -->
<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "ContactPage",
        "name": "Liên hệ {{ get_setting('website_name', 'BRICON VIỆT NAM')|e }}",
        "url": "{{ url_for('main.contact', _external=True) }}",
        "description": "{{ get_setting('contact_meta_description', 'Liên hệ với BRICON VIỆT NAM để được tư vấn')|e }}"
    }
</script>

<!-- ==================== SCHEMA.ORG - LOCAL BUSINESS ==================== -->
<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "{{ get_setting('website_name', 'CÔNG TY TNHH BRICON VIỆT NAM')|e }}",
        "image": "{{ get_setting('logo_url', url_for('static', filename='img/logo.png', _external=True))|e }}",
        "url": "{{ get_setting('main_url', request.url_root)|e }}",
        "telephone": "+84901180094",
        "email": "{{ get_setting('contact_email', 'info@bricon.vn')|e }}",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "{{ get_setting('address', '171, Đường An Phú Đông 03, Phường An Phú Đông, Quận 12')|e }}",
            "addressLocality": "Hồ Chí Minh",
            "postalCode": "700000",
            "addressCountry": "VN"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "10.762622",
            "longitude": "106.660172"
        },
        "openingHoursSpecification": [
            {
                "@type": "OpeningHoursSpecification",
                "dayOfWeek": [
                    "Monday",
                    "Tuesday",
                    "Wednesday",
                    "Thursday",
                    "Friday",
                    "Saturday"
                ],
                "opens": "08:00",
                "closes": "20:00"
            },
            {
                "@type": "OpeningHoursSpecification",
                "dayOfWeek": "Sunday",
                "opens": "09:00",
                "closes": "18:00"
            }
        ],
        "sameAs": [
            "{{ get_setting('facebook_url', '')|e }}",
            "{{ get_setting('zalo_url', '')|e }}",
            "{{ get_setting('youtube_url', '')|e }}",
            "{{ get_setting('tiktok_url', '')|e }}"
        ]
    }
</script>

<!-- ==================== SCHEMA.ORG - BREADCRUMB ==================== -->
<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Trang chủ",
                "item": "{{ url_for('main.index', _external=True) }}"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Liên hệ",
                "item": "{{ url_for('main.contact', _external=True) }}"
            }
        ]
    }
</script>
{% endblock %}